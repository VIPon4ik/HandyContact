{"version":3,"file":"static/js/38.3889bc20.chunk.js","mappings":"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","sources":["components/MainForm/MainForm.styled.jsx","components/MainForm/MainForm.jsx","pages/Login.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link, TextField } from '@mui/material';\n\nexport const FormContainer = styled.div`\n  width: 100%;\n  max-width: 400px;\n  box-shadow: 1px 1px 4px 1px rgba(0, 0, 0, 0.2);\n  padding: 40px 20px;\n  border-radius: 4px;\n  background-color: #fff;\n  margin: 40px auto;\n  margin-top: 100px;\n`;\n\nexport const StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const InputContainer = styled.div`\n  width: 100%;\n`\n\nexport const StyledInput = styled(TextField)`\n  width: 100%;\n`\n\nexport const CentredTitle = styled.h1`\n  text-align: center;\n  margin-bottom: 20px;\n  text-transform: capitalize;\n  color: rgb(67, 77, 91);\n`;\n\nexport const ErrorMessage = styled.p`\n  margin: 10px 0;\n  color: tomato;\n  \n  &:first-letter {\n    text-transform: capitalize;\n  }\n`;\n\nexport const StyledLink = styled(Link)`\n  margin-top: 20px;\n`;\n","import React, { useEffect } from 'react';\nimport { Button } from '@mui/material';\nimport {\n  FormContainer,\n  CentredTitle,\n  StyledForm,\n  ErrorMessage,\n  StyledLink,\n  InputContainer,\n  StyledInput,\n} from './MainForm.styled';\nimport { Link as RouterLink } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\n\nconst getFieldType = field => {\n  switch (field) {\n    case 'password':\n      return 'password';\n    case 'email':\n      return 'email';\n    case 'number':\n      return 'tel';\n    default:\n      return 'text';\n  }\n};\n\nconst MainForm = ({\n  title,\n  handleSubmit,\n  validationSchema,\n  redirectUrl,\n  redirectMessage,\n  defaultName = '',\n  defaultNumber = '',\n}) => {\n  const {\n    register,\n    formState: { isSubmitSuccessful, errors },\n    handleSubmit: handleFormSubmit,\n    reset,\n  } = useForm({ resolver: yupResolver(validationSchema) });\n\n  const fields = Object.keys(validationSchema.fields);\n\n  useEffect(() => {\n    if (isSubmitSuccessful) {\n      reset();\n    }\n  }, [reset, isSubmitSuccessful]);\n\n  useEffect(() => {\n    if (defaultName && defaultNumber) {\n      reset({ name: defaultName, number: defaultNumber });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [defaultName, defaultNumber]);\n\n  return (\n    <FormContainer>\n      <CentredTitle>{title}</CentredTitle>\n      <StyledForm onSubmit={handleFormSubmit(handleSubmit)}>\n        {fields.map((field, index) => {\n          const type = getFieldType(field);\n          return (\n            <InputContainer key={field}>\n              <StyledInput\n                type={type}\n                label={`${field.charAt(0).toUpperCase() + field.slice(1)}`}\n                variant=\"outlined\"\n                {...register(field)}\n              />\n              <ErrorMessage>{errors[field]?.message}</ErrorMessage>\n            </InputContainer>\n          );\n        })}\n        <Button variant=\"contained\" type=\"submit\" size=\"large\">\n          Confirm\n        </Button>\n        {redirectMessage && (\n          <StyledLink component={RouterLink} to={`/${redirectUrl}`}>\n            {redirectMessage}\n          </StyledLink>\n        )}\n      </StyledForm>\n    </FormContainer>\n  );\n};\n\nexport default MainForm;\n","import React from 'react';\nimport MainForm from 'components/MainForm/MainForm';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getContacts, logIn } from '../redux/operations';\nimport { selectAuthIsLoading } from '../redux/selectors';\nimport Loader from 'components/Loader/Loader';\nimport * as yup from 'yup';\n\nconst schema = yup.object({\n  email: yup.string().email().max(36).required(),\n  password: yup\n    .string()\n    .min(8)\n    .max(36)\n    .required()\n    .test(\n      'lowercase',\n      'Password must contain at least one lowercase letter',\n      value => {\n        return /[a-zа-я]/.test(value);\n      }\n    )\n    .test(\n      'uppercase',\n      'Password must contain at least one uppercase letter',\n      value => {\n        return /[A-ZА-Я]/.test(value);\n      }\n    )\n    .test('digit', 'Password must contain at least one digit', value => {\n      return /\\d/.test(value);\n    }),\n});\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const isLoading = useSelector(selectAuthIsLoading);\n\n  const handleSubmit = async data => {\n    const email = data.email;\n    const password = data.password;\n\n    await dispatch(logIn({ email, password }));\n    await dispatch(getContacts());\n  };\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      <MainForm\n        title=\"Sign in\"\n        handleSubmit={handleSubmit}\n        validationSchema={schema}\n        redirectUrl=\"registration\"\n        redirectMessage=\"Don't have an account? Sign up\"\n      />\n    </>\n  );\n};\n\nexport default Login;\n"],"names":["FormContainer","styled","_templateObject","_taggedTemplateLiteral","StyledForm","_templateObject2","InputContainer","_templateObject3","StyledInput","TextField","_templateObject4","CentredTitle","_templateObject5","ErrorMessage","_templateObject6","StyledLink","Link","_templateObject7","_ref","title","handleSubmit","validationSchema","redirectUrl","redirectMessage","_ref$defaultName","defaultName","_ref$defaultNumber","defaultNumber","_useForm","useForm","resolver","yupResolver","register","_useForm$formState","formState","isSubmitSuccessful","errors","handleFormSubmit","reset","fields","Object","keys","useEffect","name","number","_jsxs","children","_jsx","onSubmit","map","field","index","_errors$field","type","getFieldType","_objectSpread","label","concat","charAt","toUpperCase","slice","variant","message","Button","size","component","RouterLink","to","schema","yup","email","max","required","password","min","test","value","dispatch","useDispatch","isLoading","useSelector","selectAuthIsLoading","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","logIn","getContacts","stop","_x","apply","arguments","_Fragment","Loader","MainForm"],"sourceRoot":""}